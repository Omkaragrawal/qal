{"title": "Message", "description": "QAL SQL Schema", "required": ["statement"], "properties": {"statement": {"$ref": "#/definitions/statement"}}, "$schema": "http://json-schema.org/draft-04/schema#", "type": "object", "definitions": {"ParameterSource": {"properties": {"expression": {"$ref": "#/definitions/Array_expression_item"}, "join_type": {"$ref": "#/definitions/join_types"}, "row_separator": {"type": "string"}, "resource_uuid": {"type": "string"}, "conditions": {"$ref": "#/definitions/Array_ParameterCondition"}, "alias": {"type": "string"}}, "type": "object"}, "ParameterRemotable": {"properties": {"resource_uuid": {"type": "string"}}, "type": "object"}, "VerbCustom": {"properties": {"sql_sqlserver": {"type": "string"}, "row_separator": {"type": "string"}, "sql_db2": {"type": "string"}, "sql_oracle": {"type": "string"}, "sql_mysql": {"type": "string"}, "sql_postgresql": {"type": "string"}}, "type": "object"}, "and_or": {"enum": ["AND", "OR"], "type": "string"}, "set_operator": {"enum": ["UNION", "INTERSECT", "DIFFERENCE"], "type": "string"}, "index_types": {"enum": ["UNIQUE", "CLUSTERED", "NONCLUSTERED"], "type": "string"}, "Array_ParameterColumndefinition": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterColumndefinition"}}, "statement": {"oneOf": [{"$ref": "#/definitions/VerbCreateTable"}, {"$ref": "#/definitions/VerbCreateIndex"}, {"$ref": "#/definitions/VerbSelect"}, {"$ref": "#/definitions/VerbCustom"}, {"$ref": "#/definitions/VerbInsert"}], "type": "object"}, "ParameterCondition": {"properties": {"operator": {"type": "string"}, "and_or": {"$ref": "#/definitions/and_or"}, "row_separator": {"type": "string"}, "right": {"$ref": "#/definitions/condition_part"}, "left": {"$ref": "#/definitions/condition_part"}}, "type": "object"}, "csv_dialects": {"enum": ["excel-tab", "excel", "unix"], "type": "string"}, "ParameterParameter": {"properties": {"operator": {"type": "string"}, "row_separator": {"type": "string"}, "datatype": {"$ref": "#/definitions/datatypes"}}, "type": "object"}, "ParameterConstraint": {"properties": {"constraint_type": {"$ref": "#/definitions/constraint_types"}, "references": {"$ref": "#/definitions/Array_ParameterIdentifier"}, "row_separator": {"type": "string"}, "name": {"type": "string"}, "checkconditions": {"$ref": "#/definitions/Array_ParameterCondition"}}, "type": "object"}, "ParameterSet": {"properties": {"set_operator": {"$ref": "#/definitions/set_operator"}, "row_separator": {"type": "string"}, "subsets": {"$ref": "#/definitions/Array_tabular_expression_item"}}, "type": "object"}, "ParameterExpression": {"properties": {"operator": {"type": "string"}, "row_separator": {"type": "string"}, "expressionitems": {"$ref": "#/definitions/Array_expression_item"}}, "type": "object"}, "ParameterAssignment": {"properties": {"row_separator": {"type": "string"}, "right": {"$ref": "#/definitions/condition_part"}, "left": {"$ref": "#/definitions/condition_part"}}, "type": "object"}, "ParameterColumndefinition": {"properties": {"notnull": {"type": "boolean"}, "default": {"type": "string"}, "row_separator": {"type": "string"}, "name": {"type": "string"}, "datatype": {"$ref": "#/definitions/datatypes"}}, "type": "object"}, "ParameterCast": {"properties": {"operator": {"type": "string"}, "expression": {"$ref": "#/definitions/Array_expression_item"}, "row_separator": {"type": "string"}, "datatype": {"$ref": "#/definitions/datatypes"}}, "type": "object"}, "ParameterField": {"properties": {"expression": {"$ref": "#/definitions/Array_expression_item"}, "row_separator": {"type": "string"}, "alias": {"type": "string"}}, "type": "object"}, "ParameterNumeric": {"properties": {"operator": {"type": "string"}, "numeric_value": {"type": "number"}, "row_separator": {"type": "string"}}, "type": "object"}, "Array_expression_item": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"oneOf": [{"$ref": {"$ref": "#/definitions/VerbSelect"}}, {"$ref": {"$ref": "#/definitions/ParameterExpression"}}, {"$ref": {"$ref": "#/definitions/ParameterString"}}, {"$ref": {"$ref": "#/definitions/ParameterNumeric"}}, {"$ref": {"$ref": "#/definitions/ParameterIdentifier"}}, {"$ref": {"$ref": "#/definitions/ParameterCast"}}, {"$ref": {"$ref": "#/definitions/ParameterFunction"}}, {"$ref": {"$ref": "#/definitions/ParameterIn"}}, {"$ref": {"$ref": "#/definitions/ParameterDataset"}}, {"$ref": {"$ref": "#/definitions/ParameterCase"}}, {"$ref": {"$ref": "#/definitions/ParameterSet"}}], "type": "object"}}, "ParameterString": {"properties": {"operator": {"type": "string"}, "string_value": {"type": "string"}, "escape_character": {"type": "string"}, "row_separator": {"type": "string"}}, "type": "object"}, "Array_ParameterConstraint": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterConstraint"}}, "Array_ParameterWhen": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterWhen"}}, "ParameterBase": {"properties": {"row_separator": {"type": "string"}}, "type": "object"}, "ParameterIn": {"properties": {"in_values": {"$ref": "#/definitions/in_types"}, "operator": {"type": "string"}, "row_separator": {"type": "string"}}, "type": "object"}, "ParameterIdentifier": {"properties": {"operator": {"type": "string"}, "row_separator": {"type": "string"}, "identifier": {"type": "string"}, "prefix": {"type": "string"}}, "type": "object"}, "VerbInsert": {"properties": {"data": {"$ref": "#/definitions/tabular_expression_item"}, "row_separator": {"type": "string"}, "destination_identifier": {"$ref": "#/definitions/ParameterIdentifier"}, "column_identifiers": {"$ref": "#/definitions/Array_ParameterIdentifier"}}, "type": "object"}, "Array_ParameterSource": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterSource"}}, "condition_part": {"oneOf": [{"$ref": "#/definitions/ParameterConditions"}, {"$ref": "#/definitions/ParameterCondition"}, {"$ref": "#/definitions/VerbSelect"}, {"$ref": "#/definitions/ParameterExpression"}, {"$ref": "#/definitions/ParameterString"}, {"$ref": "#/definitions/ParameterNumeric"}, {"$ref": "#/definitions/ParameterIdentifier"}, {"$ref": "#/definitions/ParameterCast"}, {"$ref": "#/definitions/ParameterFunction"}, {"$ref": "#/definitions/ParameterIn"}, {"$ref": "#/definitions/ParameterDataset"}, {"$ref": "#/definitions/ParameterCase"}, {"$ref": "#/definitions/ParameterSet"}], "type": "object"}, "Array_ParameterAssignment": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterAssignment"}}, "VerbCreateTable": {"properties": {"constraints": {"$ref": "#/definitions/Array_ParameterConstraint"}, "columns": {"$ref": "#/definitions/Array_ParameterColumndefinition"}, "row_separator": {"type": "string"}, "name": {"type": "string"}}, "type": "object"}, "ParameterFunction": {"properties": {"parameters": {"$ref": "#/definitions/Array_expression_item"}, "operator": {"type": "string"}, "row_separator": {"type": "string"}, "name": {"type": "string"}}, "type": "object"}, "tabular_expression_item": {"oneOf": [{"$ref": "#/definitions/VerbSelect"}, {"$ref": "#/definitions/ParameterDataset"}, {"$ref": "#/definitions/ParameterSet"}], "type": "object"}, "Array_tabular_expression_item": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"oneOf": [{"$ref": {"$ref": "#/definitions/VerbSelect"}}, {"$ref": {"$ref": "#/definitions/ParameterDataset"}}, {"$ref": {"$ref": "#/definitions/ParameterSet"}}], "type": "object"}}, "Array_ParameterOrderByItem": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterOrderByItem"}}, "ParameterCase": {"properties": {"operator": {"type": "string"}, "when_statements": {"$ref": "#/definitions/Array_ParameterWhen"}, "row_separator": {"type": "string"}, "else_statement": {"$ref": "#/definitions/Array_expression_item"}}, "type": "object"}, "VerbSelect": {"properties": {"operator": {"type": "string"}, "resource_uuid": {"type": "string"}, "fields": {"$ref": "#/definitions/Array_ParameterField"}, "top_limit": {"type": "integer"}, "order_by": {"$ref": "#/definitions/Array_ParameterOrderByItem"}, "row_separator": {"type": "string"}, "sources": {"$ref": "#/definitions/Array_ParameterSource"}}, "type": "object"}, "Array_ParameterIdentifier": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterIdentifier"}}, "VerbDelete": {"properties": {"row_separator": {"type": "string"}, "sources": {"$ref": "#/definitions/Array_ParameterSource"}}, "type": "object"}, "in_types": {"enum": ["VerbSelect", "ParameterString"], "type": "string"}, "Array_Statement": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/statement"}}, "VerbUpdate": {"properties": {"table_identifier": {"$ref": "#/definitions/ParameterIdentifier"}, "conditions": {"$ref": "#/definitions/Array_ParameterCondition"}, "row_separator": {"type": "string"}, "assignments": {"$ref": "#/definitions/Array_ParameterAssignment"}}, "type": "object"}, "VerbDropTable": {"properties": {"row_separator": {"type": "string"}, "name": {"type": "string"}}, "type": "object"}, "Array_string": {"type": "array", "items": {"type": "string"}}, "ParameterWhen": {"properties": {"conditions": {"$ref": "#/definitions/Array_ParameterCondition"}, "row_separator": {"type": "string"}, "result": {"$ref": "#/definitions/Array_expression_item"}}, "type": "object"}, "db_types": {"enum": ["MySQL", "PostgreSQL", "Oracle", "DB2", "SQLserver"], "type": "string"}, "constraint_types": {"enum": ["NOT NULL", "UNIQUE", "PRIMARY KEY", "FOREIGN KEY", "CHECK", "DEFAULT"], "type": "string"}, "Array_ParameterString": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterString"}}, "ParameterDataset": {"properties": {"operator": {"type": "string"}, "resource_uuid": {"type": "string"}, "row_separator": {"type": "string"}, "data_source": {"$ref": "#/definitions/data_source_types"}}, "type": "object"}, "Array_ParameterField": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterField"}}, "ParameterDDL": {"properties": {"row_separator": {"type": "string"}}, "type": "object"}, "Array_ParameterCondition": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/ParameterCondition"}}, "join_types": {"enum": ["", "INNER", "LEFT OUTER", "RIGHT OUTER", "FULL OUTER", "CROSS"], "type": "string"}, "datatypes": {"pattern": "(integer|string|string(\\(.*\\))|serial|timestamp)", "type": "string"}, "data_source_types": {"oneOf": [{"$ref": "#/definitions/FlatfileDataset"}, {"$ref": "#/definitions/XpathDataset"}, {"$ref": "#/definitions/MatrixDataset"}, {"$ref": "#/definitions/SpreadsheetDataset"}, {"$ref": "#/definitions/RDBMSDataset"}], "type": "object"}, "ParameterConditions": {"properties": {}, "type": "object"}, "VerbCreateIndex": {"properties": {"tablename": {"type": "string"}, "columnnames": {"$ref": "#/definitions/Array_string"}, "row_separator": {"type": "string"}, "index_type": {"$ref": "#/definitions/index_types"}, "name": {"type": "string"}}, "type": "object"}, "Array_list": {"minItems": 0, "uniqueItems": true, "type": "array", "items": {"$ref": "*"}}, "ParameterExpressionItem": {"properties": {"operator": {"type": "string"}, "row_separator": {"type": "string"}}, "type": "object"}, "ParameterOrderByItem": {"properties": {"direction": {"type": "string"}, "operator": {"type": "string"}, "row_separator": {"type": "string"}, "expressionitems": {"$ref": "#/definitions/Array_expression_item"}}, "type": "object"}}, "version": "0.5"}