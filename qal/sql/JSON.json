{"title": "QAL SQL JSON Schema", "type": "object", "properties": {"statement": {"$ref": "#/definitions/statement"}}, "version": "0.5", "$schema": "http://json-schema.org/draft-04/schema#", "description": "The JSON Schema for QAL SQL settings", "definitions": {"quoting": {"type": "string", "enum": ["QUOTE_MINIMAL", "QUOTE_ALL", "QUOTE_NONE"]}, "Array_string": {"type": "array", "items": {"type": "string"}}, "set_operator": {"type": "string", "enum": ["UNION", "INTERSECT", "DIFFERENCE"]}, "tabular_expression_item": {"anyOf": [{"properties": {"VerbSelect": {"$ref": "#/definitions/VerbSelect"}}}, {"properties": {"ParameterDataset": {"$ref": "#/definitions/ParameterDataset"}}}, {"properties": {"ParameterSet": {"$ref": "#/definitions/ParameterSet"}}}], "type": "object"}, "Array_tabular_expression_item": {"type": "array", "items": {"anyOf": [{"properties": {"VerbSelect": {"$ref": "#/definitions/VerbSelect"}}}, {"properties": {"ParameterDataset": {"$ref": "#/definitions/ParameterDataset"}}}, {"properties": {"ParameterSet": {"$ref": "#/definitions/ParameterSet"}}}], "type": "object"}, "uniqueItems": true, "minItems": 0}, "VerbDropTable": {"properties": {"name": {"type": "string"}, "row_separator": {"type": "string"}}, "type": "object"}, "ParameterColumndefinition": {"properties": {"name": {"type": "string"}, "default": {"type": "string"}, "notnull": {"type": "boolean"}, "datatype": {"$ref": "#/definitions/datatypes"}, "row_separator": {"type": "string"}}, "type": "object"}, "ParameterConstraint": {"properties": {"checkconditions": {"$ref": "#/definitions/Array_ParameterCondition"}, "row_separator": {"type": "string"}, "references": {"$ref": "#/definitions/Array_ParameterIdentifier"}, "name": {"type": "string"}, "constraint_type": {"$ref": "#/definitions/constraint_types"}}, "type": "object"}, "db_types": {"type": "string", "enum": ["MySQL", "PostgreSQL", "Oracle", "DB2", "SQLserver"]}, "VerbSelect": {"properties": {"order_by": {"$ref": "#/definitions/Array_ParameterOrderByItem"}, "operator": {"type": "string"}, "resource_uuid": {"type": "string"}, "top_limit": {"type": "integer"}, "fields": {"$ref": "#/definitions/Array_ParameterField"}, "sources": {"$ref": "#/definitions/Array_ParameterSource"}, "row_separator": {"type": "string"}}, "type": "object"}, "VerbInsert": {"properties": {"data": {"$ref": "#/definitions/tabular_expression_item"}, "destination_identifier": {"$ref": "#/definitions/ParameterIdentifier"}, "row_separator": {"type": "string"}, "column_identifiers": {"$ref": "#/definitions/Array_ParameterIdentifier"}}, "type": "object"}, "and_or": {"type": "string", "enum": ["AND", "OR"]}, "VerbDelete": {"properties": {"sources": {"$ref": "#/definitions/Array_ParameterSource"}, "row_separator": {"type": "string"}}, "type": "object"}, "datatypes": {"pattern": "(integer|string|string(\\(.*\\))|serial|timestamp)", "type": "string"}, "Array_ParameterOrderByItem": {"type": "array", "items": {"$ref": "#/definitions/ParameterOrderByItem"}, "uniqueItems": true, "minItems": 0}, "ParameterParameter": {"properties": {"row_separator": {"type": "string"}, "operator": {"type": "string"}, "datatype": {"$ref": "#/definitions/datatypes"}}, "type": "object"}, "Array_ParameterWhen": {"type": "array", "items": {"$ref": "#/definitions/ParameterWhen"}, "uniqueItems": true, "minItems": 0}, "ParameterRemotable": {"properties": {"resource_uuid": {"type": "string"}}, "type": "object"}, "Array_ParameterIdentifier": {"type": "array", "items": {"$ref": "#/definitions/ParameterIdentifier"}, "uniqueItems": true, "minItems": 0}, "VerbUpdate": {"properties": {"table_identifier": {"$ref": "#/definitions/ParameterIdentifier"}, "row_separator": {"type": "string"}, "assignments": {"$ref": "#/definitions/Array_ParameterAssignment"}, "conditions": {"$ref": "#/definitions/Array_ParameterCondition"}}, "type": "object"}, "ParameterExpressionItem": {"properties": {"row_separator": {"type": "string"}, "operator": {"type": "string"}}, "type": "object"}, "xpath_data_format": {"type": "string", "enum": ["XML", "XHTML", "HTML"]}, "ParameterNumeric": {"properties": {"numeric_value": {"type": "number"}, "row_separator": {"type": "string"}, "operator": {"type": "string"}}, "type": "object"}, "index_types": {"type": "string", "enum": ["UNIQUE", "CLUSTERED", "NONCLUSTERED"]}, "ParameterAssignment": {"properties": {"right": {"$ref": "#/definitions/condition_part"}, "row_separator": {"type": "string"}, "left": {"$ref": "#/definitions/condition_part"}}, "type": "object"}, "ParameterExpression": {"properties": {"expressionitems": {"$ref": "#/definitions/Array_expression_item"}, "row_separator": {"type": "string"}, "operator": {"type": "string"}}, "type": "object"}, "condition_part": {"anyOf": [{"properties": {"ParameterConditions": {"$ref": "#/definitions/ParameterConditions"}}}, {"properties": {"ParameterCondition": {"$ref": "#/definitions/ParameterCondition"}}}, {"properties": {"VerbSelect": {"$ref": "#/definitions/VerbSelect"}}}, {"properties": {"ParameterExpression": {"$ref": "#/definitions/ParameterExpression"}}}, {"properties": {"ParameterString": {"$ref": "#/definitions/ParameterString"}}}, {"properties": {"ParameterNumeric": {"$ref": "#/definitions/ParameterNumeric"}}}, {"properties": {"ParameterIdentifier": {"$ref": "#/definitions/ParameterIdentifier"}}}, {"properties": {"ParameterCast": {"$ref": "#/definitions/ParameterCast"}}}, {"properties": {"ParameterFunction": {"$ref": "#/definitions/ParameterFunction"}}}, {"properties": {"ParameterIn": {"$ref": "#/definitions/ParameterIn"}}}, {"properties": {"ParameterDataset": {"$ref": "#/definitions/ParameterDataset"}}}, {"properties": {"ParameterCase": {"$ref": "#/definitions/ParameterCase"}}}, {"properties": {"ParameterSet": {"$ref": "#/definitions/ParameterSet"}}}], "type": "object"}, "ParameterOrderByItem": {"properties": {"expressionitems": {"$ref": "#/definitions/Array_expression_item"}, "direction": {"type": "string"}, "operator": {"type": "string"}, "row_separator": {"type": "string"}}, "type": "object"}, "in_types": {"type": "string", "enum": ["VerbSelect", "ParameterString"]}, "ParameterIdentifier": {"properties": {"identifier": {"type": "string"}, "row_separator": {"type": "string"}, "operator": {"type": "string"}, "prefix": {"type": "string"}}, "type": "object"}, "Array_ParameterCondition": {"type": "array", "items": {"$ref": "#/definitions/ParameterCondition"}, "uniqueItems": true, "minItems": 0}, "Array_ParameterColumndefinition": {"type": "array", "items": {"$ref": "#/definitions/ParameterColumndefinition"}, "uniqueItems": true, "minItems": 0}, "VerbCreateIndex": {"properties": {"column_names": {"$ref": "#/definitions/Array_string"}, "name": {"type": "string"}, "index_type": {"$ref": "#/definitions/index_types"}, "tablename": {"type": "string"}, "row_separator": {"type": "string"}}, "type": "object"}, "ParameterSource": {"properties": {"row_separator": {"type": "string"}, "resource_uuid": {"type": "string"}, "join_type": {"$ref": "#/definitions/join_types"}, "expression": {"$ref": "#/definitions/Array_expression_item"}, "conditions": {"$ref": "#/definitions/Array_ParameterCondition"}, "alias": {"type": "string"}}, "type": "object"}, "ParameterFunction": {"properties": {"name": {"type": "string"}, "parameters": {"$ref": "#/definitions/Array_expression_item"}, "row_separator": {"type": "string"}, "operator": {"type": "string"}}, "type": "object"}, "Array_Statement": {"type": "array", "items": {"$ref": "#/definitions/statement"}, "uniqueItems": true, "minItems": 0}, "Array_expression_item": {"type": "array", "items": {"anyOf": [{"properties": {"VerbSelect": {"$ref": "#/definitions/VerbSelect"}}}, {"properties": {"ParameterExpression": {"$ref": "#/definitions/ParameterExpression"}}}, {"properties": {"ParameterString": {"$ref": "#/definitions/ParameterString"}}}, {"properties": {"ParameterNumeric": {"$ref": "#/definitions/ParameterNumeric"}}}, {"properties": {"ParameterIdentifier": {"$ref": "#/definitions/ParameterIdentifier"}}}, {"properties": {"ParameterCast": {"$ref": "#/definitions/ParameterCast"}}}, {"properties": {"ParameterFunction": {"$ref": "#/definitions/ParameterFunction"}}}, {"properties": {"ParameterIn": {"$ref": "#/definitions/ParameterIn"}}}, {"properties": {"ParameterDataset": {"$ref": "#/definitions/ParameterDataset"}}}, {"properties": {"ParameterCase": {"$ref": "#/definitions/ParameterCase"}}}, {"properties": {"ParameterSet": {"$ref": "#/definitions/ParameterSet"}}}], "type": "object"}, "uniqueItems": true, "minItems": 0}, "ParameterSet": {"properties": {"row_separator": {"type": "string"}, "subsets": {"$ref": "#/definitions/Array_tabular_expression_item"}, "set_operator": {"$ref": "#/definitions/set_operator"}}, "type": "object"}, "ParameterWhen": {"properties": {"row_separator": {"type": "string"}, "result": {"$ref": "#/definitions/Array_expression_item"}, "conditions": {"$ref": "#/definitions/Array_ParameterCondition"}}, "type": "object"}, "Array_ParameterAssignment": {"type": "array", "items": {"$ref": "#/definitions/ParameterAssignment"}, "uniqueItems": true, "minItems": 0}, "ParameterCondition": {"properties": {"and_or": {"$ref": "#/definitions/and_or"}, "right": {"$ref": "#/definitions/condition_part"}, "operator": {"type": "string"}, "row_separator": {"type": "string"}, "left": {"$ref": "#/definitions/condition_part"}}, "type": "object"}, "Array_ParameterField": {"type": "array", "items": {"$ref": "#/definitions/ParameterField"}, "uniqueItems": true, "minItems": 0}, "ParameterConditions": {"properties": {}, "type": "object"}, "ParameterBase": {"properties": {"row_separator": {"type": "string"}}, "type": "object"}, "ParameterCast": {"properties": {"expression": {"$ref": "#/definitions/Array_expression_item"}, "operator": {"type": "string"}, "datatype": {"$ref": "#/definitions/datatypes"}, "row_separator": {"type": "string"}}, "type": "object"}, "Array_ParameterString": {"type": "array", "items": {"$ref": "#/definitions/ParameterString"}, "uniqueItems": true, "minItems": 0}, "join_types": {"type": "string", "enum": ["", "INNER", "LEFT OUTER", "RIGHT OUTER", "FULL OUTER", "CROSS"]}, "ParameterString": {"properties": {"escape_character": {"type": "string"}, "row_separator": {"type": "string"}, "operator": {"type": "string"}, "string_value": {"type": "string"}}, "type": "object"}, "statement": {"anyOf": [{"properties": {"VerbCreateTable": {"$ref": "#/definitions/VerbCreateTable"}}}, {"properties": {"VerbCreateIndex": {"$ref": "#/definitions/VerbCreateIndex"}}}, {"properties": {"VerbSelect": {"$ref": "#/definitions/VerbSelect"}}}, {"properties": {"VerbCustom": {"$ref": "#/definitions/VerbCustom"}}}, {"properties": {"VerbInsert": {"$ref": "#/definitions/VerbInsert"}}}, {"properties": {"VerbDelete": {"$ref": "#/definitions/VerbDelete"}}}, {"properties": {"VerbUpdate": {"$ref": "#/definitions/VerbUpdate"}}}], "type": "object"}, "ParameterDDL": {"properties": {"row_separator": {"type": "string"}}, "type": "object"}, "ParameterIn": {"properties": {"in_values": {"$ref": "#/definitions/in_types"}, "row_separator": {"type": "string"}, "operator": {"type": "string"}}, "type": "object"}, "VerbCreateTable": {"properties": {"name": {"type": "string"}, "constraints": {"$ref": "#/definitions/Array_ParameterConstraint"}, "row_separator": {"type": "string"}, "columns": {"$ref": "#/definitions/Array_ParameterColumndefinition"}}, "type": "object"}, "ParameterDataset": {"properties": {"data_source": {"$ref": "#/definitions/data_source_types"}, "row_separator": {"type": "string"}, "operator": {"type": "string"}, "resource_uuid": {"type": "string"}}, "type": "object"}, "constraint_types": {"type": "string", "enum": ["NOT NULL", "UNIQUE", "PRIMARY KEY", "FOREIGN KEY", "CHECK", "DEFAULT"]}, "Array_list": {"type": "array", "items": {"$ref": "*"}, "uniqueItems": true, "minItems": 0}, "VerbCustom": {"properties": {"sql_postgresql": {"type": "string"}, "sql_db2": {"type": "string"}, "sql_mysql": {"type": "string"}, "sql_sqlserver": {"type": "string"}, "row_separator": {"type": "string"}, "sql_oracle": {"type": "string"}}, "type": "object"}, "csv_dialects": {"type": "string", "enum": ["excel", "excel-tab", "unix"]}, "data_source_types": {"anyOf": [{"properties": {"FlatfileDataset": {"$ref": "#/definitions/FlatfileDataset"}}}, {"properties": {"XpathDataset": {"$ref": "#/definitions/XpathDataset"}}}, {"properties": {"MatrixDataset": {"$ref": "#/definitions/MatrixDataset"}}}, {"properties": {"SpreadsheetDataset": {"$ref": "#/definitions/SpreadsheetDataset"}}}, {"properties": {"RDBMSDataset": {"$ref": "#/definitions/RDBMSDataset"}}}], "type": "object"}, "Array_ParameterConstraint": {"type": "array", "items": {"$ref": "#/definitions/ParameterConstraint"}, "uniqueItems": true, "minItems": 0}, "ParameterCase": {"properties": {"row_separator": {"type": "string"}, "operator": {"type": "string"}, "when_statements": {"$ref": "#/definitions/Array_ParameterWhen"}, "else_statement": {"$ref": "#/definitions/Array_expression_item"}}, "type": "object"}, "ParameterField": {"properties": {"expression": {"$ref": "#/definitions/Array_expression_item"}, "row_separator": {"type": "string"}, "alias": {"type": "string"}}, "type": "object"}, "Array_ParameterSource": {"type": "array", "items": {"$ref": "#/definitions/ParameterSource"}, "uniqueItems": true, "minItems": 0}}, "required": ["statement"]}