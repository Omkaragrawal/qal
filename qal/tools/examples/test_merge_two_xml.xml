<?xml version='1.0' encoding='UTF-8'?>
<merge>
  <mappings>
    <field_mappings>
      <field_mapping>
        <is_key>True</is_key>
        <src_reference>author</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1">end</trim>
          <ifempty order="2">NULL</ifempty>
          <replace order="3">
            <old>cc</old>
            <new>c</new>
            <max>1</max>
          </replace>
        </transformations>
        <dest_reference>emp_no</dest_reference>
      </field_mapping>
      <field_mapping>
        <is_key>False</is_key>
        <src_reference>description</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1"/>
          <replace order="3">
            <old>mr. </old>
            <new/>
            <max/>
          </replace>
          <replace order="3">
            <old>ms. </old>
            <new/>
            <max/>
          </replace>
        </transformations>
        <dest_reference>name</dest_reference>
      </field_mapping>
      <field_mapping>
        <is_key>False</is_key>
        <src_reference>genre</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1"/>
        </transformations>
        <dest_reference>position</dest_reference>
      </field_mapping>
      <field_mapping>
        <is_key>False</is_key>
        <src_reference>price</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1"/>
          <cast order="5">
            <dest_type>integer</dest_type>
            <format_string/>
          </cast>
        </transformations>
        <dest_reference>manager</dest_reference>
      </field_mapping>
      <field_mapping>
        <is_key>False</is_key>
        <src_reference>publish_date</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1"/>
          <cast order="5">
            <dest_type>timestamp</dest_type>
            <format_string>%Y-%m-%d %H:%M:%S</format_string>
          </cast>
        </transformations>
        <dest_reference>hiredate</dest_reference>
      </field_mapping>
      <field_mapping>
        <is_key>False</is_key>
        <src_reference>title</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1"/>
          <replace order="3">
            <old>,</old>
            <new>.</new>
            <max/>
          </replace>
          <cast order="5">
            <dest_type>float</dest_type>
            <format_string/>
          </cast>
        </transformations>
        <dest_reference>comm</dest_reference>
      </field_mapping>
      <field_mapping>
        <is_key>False</is_key>
        <src_reference>comm</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1"/>
          <replace order="3">
            <old>,</old>
            <new>.</new>
            <max/>
          </replace>
          <ifempty order="4">0</ifempty>
          <cast order="5">
            <dest_type>float</dest_type>
            <format_string/>
          </cast>
        </transformations>
        <dest_reference>salary</dest_reference>
      </field_mapping>
      <field_mapping>
        <is_key>False</is_key>
        <src_reference>dep_no</src_reference>
        <src_datatype>string</src_datatype>
        <transformations>
          <trim order="1"/>
          <replace order="3">
            <old> </old>
            <new/>
            <max/>
          </replace>
          <cast order="5">
            <dest_type>float</dest_type>
            <format_string/>
          </cast>
        </transformations>
        <dest_reference>dep_no</dest_reference>
      </field_mapping>
    </field_mappings>
  </mappings>
  <settings>
    <insert>True</insert>
    <update>True</update>
    <delete>True</delete>
    <post_execute_sql></post_execute_sql>
  </settings>
  <resources>
    <resource name="destination" type="flatfile" uuid="00000000-0000-0000-0000-000000000001">
      <csv_dialect>excel-tab</csv_dialect>
      <delimiter>;</delimiter>
      <filename>csv_out.csv</filename>
      <has_header>True</has_header>
      <lineterminator></lineterminator>
      <quotechar>"</quotechar>
      <quoting>ALL</quoting>
      <skipinitialspace></skipinitialspace>
    </resource>
    <resource name="source" type="XPATH" uuid="00000000-0000-0000-0000-000000000000">
      <encoding></encoding>
      <field_names><item>author</item><item>description</item><item>genre</item><item>price</item><item>publish_date</item><item>title</item><item>comm</item><item>dep_no</item></field_names>
      <field_types><item>string</item><item>string</item><item>string</item><item>string</item><item>string</item><item>string</item><item>string</item><item>string</item></field_types>
      <field_xpaths><item>author</item><item>description</item><item>genre</item><item>price</item><item>publish_date</item><item>title</item><item>comm</item><item>dep_no</item></field_xpaths>
      <filename>xml_in.xml</filename>
      <rows_xpath>/catalog/book</rows_xpath>
      <xpath_data_format>XML</xpath_data_format>
    </resource>
  </resources>
</merge>
