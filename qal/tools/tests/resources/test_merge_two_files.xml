<?xml version='1.0' encoding='UTF-8'?>
<merge>
	<mappings>
		<field_mappings>
		  <field_mapping>
		    <is_key>True</is_key>
		    <src_column>emp_no</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		    	<trim order="1">end</trim>
		        <if_empty order="2">NULL</if_empty>
		        <replace order="3">
		        	<old>cc</old>
		        	<new>c</new>
		        	<max>1</max>
		        </replace>
		    </transformations>
		    <result_cast_to></result_cast_to>
		    <dest_column>emp_no</dest_column>
		  </field_mapping>
		  <field_mapping>
		    <is_key>False</is_key>
		    <src_column>name</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		        <trim order="1"></trim>
		        <replace order="3">
		        	<old>mr. </old>
		        	<new></new>
		        	<max/>
		        </replace>	        
		        <replace order="3">
		        	<old>ms. </old>
		        	<new></new>
		        	<max/>
		        </replace>	        
		    </transformations>
		    <result_cast_to></result_cast_to>
		    <dest_column>name</dest_column>
		  </field_mapping>
		  <field_mapping>
		    <is_key>False</is_key>
		    <src_column>position</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		        <trim order="1"></trim>
		    </transformations>
		    <result_cast_to></result_cast_to>
		    <dest_column>position</dest_column>
		  </field_mapping>
		  <field_mapping>
		    <is_key>False</is_key>
		    <src_column>manager</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		        <trim order="1"></trim>
		      	<cast order="5">
		      		<dest_type>integer</dest_type>
		        	<format_string/>
		        </cast>
		    </transformations>
		    <result_cast_to></result_cast_to>
		    <dest_column>manager</dest_column>
		  </field_mapping>
		  <field_mapping>
		    <is_key>False</is_key>
		    <src_column>hiredate</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		        <trim order="1"></trim>
		      	<cast order="5">		      		
		      		<dest_type>timestamp</dest_type>
		        	<format_string>%Y-%m-%d %H:%M:%S</format_string>
		        </cast>
		    </transformations>
		    <result_cast_to/>
		    <dest_column>hiredate</dest_column>
		  </field_mapping>
		  <field_mapping>
		    <is_key>False</is_key>
		    <src_column>salary</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		        <trim order="1"></trim>
		        <replace order="3">
		        	<old>,</old>
		        	<new>.</new>
		        	<max/>
		        </replace>	 
		      	<cast order="5">
		      		<dest_type>float</dest_type>
		        	<format_string/>
		        </cast>
		    </transformations>
		    <result_cast_to/>
		    <dest_column>comm</dest_column>
		  </field_mapping>
		  <field_mapping>
		    <is_key>False</is_key>
		    <src_column>comm</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		    	
		        <trim order="1"></trim>
		        <replace order="3">
		        	<old>,</old>
		        	<new>.</new>
		        	<max/>
		        </replace>
		        <if_empty order="4">0</if_empty>	 
		        <cast order="5">
		        	<dest_type>float</dest_type>
		        	<format_string/>
		        </cast>
		    </transformations>
		    <result_cast_to></result_cast_to>
		    <dest_column>salary</dest_column>
		  </field_mapping>
		  <field_mapping>
		    <is_key>False</is_key>
		    <src_column>dep_no</src_column>
		    <src_datatype>string</src_datatype>
		    <src_cast_to>string</src_cast_to>
		    <transformations>
		        <trim order="1"></trim>
		       	<replace order="3">
		        	<old> </old>
		        	<new></new>
		        	<max/>
		        </replace>	 
		      	<cast order="5">
		      		<dest_type>float</dest_type>
		        	<format_string/>
		        </cast>
		    </transformations>
		    <result_cast_to></result_cast_to>
		    <dest_column>dep_no</dest_column>
		  </field_mapping>
	
	  </field_mappings>
	  <table_mappings>
	    <source_table></source_table>
	    <destination_table></destination_table>
	  </table_mappings>  
  </mappings>
  <settings>
  	<insert>true</insert>
  	<update>true</update>
  	<delete>true</delete> 	
  </settings>
  <resources>
    <resource caption="destination" type="flatfile" uuid="dest_uuid">
     	<csv_dialect>excel-tab</csv_dialect>
		<delimiter>;</delimiter>
		<filename>csv_out.csv</filename>
		<has_header>True</has_header>
        <quotechar>"</quotechar>
		<quoting>ALL</quoting>
	</resource>
    <resource caption="source" type="flatfile" uuid="source_uuid">
		<csv_dialect>excel-tab</csv_dialect>
		<delimiter>;</delimiter>
		<filename>csv_source.csv</filename>
		<has_header>True</has_header>
		<quotechar>"</quotechar>
        <quoting>MINIMAL</quoting>
	</resource>	

  </resources>
</merge>
